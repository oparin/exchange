{% extends ':office:base.html.twig' %}

{% form_theme form ':office:twig_theme.html.twig' %}

{% block title %}{{ 'profile.my_profile'|trans }}{% endblock %}

{% block title_content %}
    {{ 'profile.my_profile'|trans }}
{% endblock %}

{% block content %}
    <div class="innerLR">
        <div class="row-fluid">
            <!-- Column -->
            <div class="span12">
                {% for flashMessage in app.session.flashbag.get('success') %}
                    {% include ':office:alert_success.html.twig' with {'message' : flashMessage} %}
                {% endfor %}
                {% for flashMessage in app.session.flashbag.get('error') %}
                    {% include ':office:alert_error.html.twig' with {'message' : flashMessage} %}
                {% endfor %}
                <!-- Widget -->
                <div class="widget">
                    <!-- Widget heading -->
                    <div class="widget-head">
                        <h4 class="heading">{{ 'profile.my_profile'|trans }}</h4>
                    </div>
                    <!-- // Widget heading END -->

                    <div class="widget-body">
                        <form action="{{ path('fos_user_profile_edit') }}" {{ form_enctype(form) }} method="POST" class="form-horizontal">
                            <div class="row-fluid">
                                <div class="span12">
                                    <div class="well">
                                        <!-- Group -->
                                        {#<div class="control-group ">#}
                                            {#{{ form_label(form.username, null, {'label_attr': {'class': 'control-label required', 'style': 'width: 160px; text-align: left'}}) }}#}
                                            {#<div class="controls">#}
                                                {#{{ form_widget(form.username, {'attr': {'class': 'span6'}}) }}#}
                                                {#{% if form_errors(form.username) %}#}
                                                    {#<p class="error help-block">#}
                                                        {#<span class="label label-important">{{ form_errors(form.username) }}</span>#}
                                                    {#</p>#}
                                                {#{% endif %}#}
                                            {#</div>#}
                                        {#</div>#}
                                        <!-- // Group END -->

                                        <!-- Group -->
                                        {#<div class="control-group ">#}
                                            {#{{ form_label(form.email, null, {'label_attr': {'class': 'control-label required', 'style': 'width: 160px; text-align: left'}}) }}#}
                                            {#<div class="controls">#}
                                                {#{{ form_widget(form.email, {'attr': {'class': 'span6'}}) }}#}
                                                {#{% if form_errors(form.email) %}#}
                                                    {#<p class="error help-block">#}
                                                        {#<span class="label label-important">{{ form_errors(form.email) }}</span>#}
                                                    {#</p>#}
                                                {#{% endif %}#}
                                            {#</div>#}
                                        {#</div>#}
                                        <!-- // Group END -->

                                        {% for account in form.withdraw %}
                                            <!-- Group -->
                                            <div class="control-group ">
                                                {{ form_label(account, account.vars.value.type.name, {'label_attr': {'class': 'control-label required', 'style': 'width: 160px; text-align: left'}}) }}
                                                <div class="controls">
                                                    {{ form_widget(account, {'attr': {'class': 'span6'}}) }}
                                                    {% if form_errors(account) %}
                                                        <p class="error help-block">
                                                            <span class="label label-important">{{ form_errors(account) }}</span>
                                                        </p>
                                                    {% endif %}
                                                </div>
                                            </div>
                                            <!-- // Group END -->
                                        {% endfor %}

                                        <!-- Group -->
                                        <div class="control-group ">
                                            {{ form_label(form.current_password, null, {'label_attr': {'class': 'control-label required', 'style': 'width: 160px; text-align: left'}}) }}
                                            <div class="controls">
                                                {{ form_widget(form.current_password, {'attr': {'class': 'span6'}}) }}
                                                {% if form_errors(form.current_password) %}
                                                    <p class="error help-block">
                                                        <span class="label label-important">{{ form_errors(form.current_password) }}</span>
                                                    </p>
                                                {% endif %}
                                            </div>
                                        </div>
                                        <!-- // Group END -->
                                    </div>
                                </div>
                            </div>
                            {{ form_rest(form) }}
                            <div style="margin-top: 10px" class="row-fluid">
                                <div class="span5"></div>
                                <div style="text-align: center" class="span2">
                                    <input type="submit" class="btn btn-success hidden-phone" value="{{ 'profile.edit.submit'|trans({}, 'FOSUserBundle') }}">
                                </div>
                                <div class="span5"></div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock content %}
